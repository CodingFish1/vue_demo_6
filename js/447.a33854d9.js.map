{"version":3,"file":"js/447.a33854d9.js","mappings":"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","sources":["webpack://vue_demo_6/./src/views/CartView.vue","webpack://vue_demo_6/./src/components/FormBody.vue","webpack://vue_demo_6/./src/components/FormBody.vue?24bf","webpack://vue_demo_6/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"text-end\">\r\n    <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"delCart\"\r\n    :disabled=\"cart.length===0\">清空購物車</button>\r\n  </div>\r\n  <table class=\"table align-middle\">\r\n    <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th>品名</th>\r\n        <th style=\"width: 150px\">數量/單位</th>\r\n        <th>單價</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <template v-if=\"cart\">\r\n        <tr v-for=\"item in cart\" :key=item.product.id>\r\n          <td>\r\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"delItem(item.id)\">\r\n              <i class=\"fas fa-pulse\" :class=\"{'fa-spinner':isDeleting===item.id}\"></i>\r\n              x\r\n            </button>\r\n          </td>\r\n          <td>\r\n            {{item.product.title}}\r\n          </td>\r\n          <td>\r\n            <div class=\"input-group input-group-sm\">\r\n              <div class=\"input-group mb-3\">\r\n                <select id=\"\" class=\"form select\" v-model=\"item.qty\" @change=\"updateCart(item)\" :disabled=\"isLoading===item.id\">\r\n                  <option :value=\"num\" v-for=\"num in 20\" :key=\"num\">\r\n                    {{num}}\r\n                  </option>\r\n                </select>\r\n                <span class=\"input-group-text\" id=\"basic-addon2\">{{ item.product.unit }}</span>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td class=\"\">\r\n            <small class=\"text-success\">折扣價：</small>\r\n            {{ item.product.price }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n    <tfoot>\r\n      <tr>\r\n        <td colspan=\"3\" class=\"text-end\">總計</td>\r\n        <td class=\"text-end\">{{}}</td>\r\n      </tr>\r\n      <!--<tr>\r\n        <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n        <td class=\"text-end text-success\">{{}}</td>\r\n      </tr> -->\r\n    </tfoot>\r\n  </table>\r\n    </div>\r\n  <FormBody v-on:ref-cart='getCart' :cart=\"cart\"></FormBody>\r\n</template>\r\n\r\n<script>\r\nimport FormBody from '@/components/FormBody.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      cart: {},\r\n      isLoading: '',\r\n      isDeleting: ''\r\n    }\r\n  },\r\n  components: {\r\n    FormBody\r\n  },\r\n\r\n  methods: {\r\n    getCart () {\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((res) => {\r\n          this.cart = res.data.data.carts\r\n          console.log('Cart Loaded')\r\n        })\r\n        .catch((error) => { console.dir(error) })\r\n    },\r\n\r\n    delCart () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`)\r\n        .then((res) => {\r\n          this.getCart()\r\n        })\r\n        .catch((error) => { console.dir(error) })\r\n    },\r\n\r\n    delItem (id) {\r\n      this.isDeleting = id\r\n      console.log(id)\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`)\r\n        .then((res) => {\r\n          this.getCart()\r\n          this.isDeleting = ''\r\n        })\r\n        .catch((error) => { console.dir(error) })\r\n    },\r\n\r\n    updateCart (item) {\r\n      this.isLoading = item.id\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: item.qty\r\n      }\r\n\r\n      this.$http.put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.isLoading = ''\r\n          this.getCart()\r\n        })\r\n        .catch((error) => { console.dir(error) })\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n<div class=\"my-5 row justify-content-center\">\r\n    <v-form ref=\"form\" class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"submitOrder\">\r\n      <div class=\"mb-3\">\r\n        <label for=\"email\" class=\"form-label\">Email</label>\r\n        <v-field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                v-model=\"form.user.email\"\r\n                ></v-field>\r\n        <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n        <v-field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                placeholder=\"請輸入姓名\" rules=\"required\"\r\n                v-model=\"form.user.name\"></v-field>\r\n        <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n        <v-field id=\"tel\" name=\"電話\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                placeholder=\"請輸入電話\" rules=\"required|min:8|max:10\"\r\n                v-model=\"form.user.tel\"></v-field>\r\n        <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n        <v-field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                placeholder=\"請輸入地址\" rules=\"required\"\r\n                v-model=\"form.user.address\"></v-field>\r\n        <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"message\" class=\"form-label\">留言</label>\r\n        <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\r\n        v-model=\"form.address\"></textarea>\r\n      </div>\r\n      <div class=\"text-end\">\r\n        <button type=\"submit\" class=\"btn btn-danger\"\r\n        :disabled=\"Object.keys(errors).length>0 || Object.keys(this.cart).length===0\">送出訂單</button>\r\n      </div>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n\r\n  props: ['cart'],\r\n\r\n  methods: {\r\n    submitOrder () {\r\n      const order = this.form\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.$refs.form.resetForm()\r\n          this.form.message = ''\r\n          this.$emit('refCart')\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    // console.log(this.cart)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FormBody.vue?vue&type=template&id=cd0ed14c\"\nimport script from \"./FormBody.vue?vue&type=script&lang=js\"\nexport * from \"./FormBody.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\OneDrive\\\\Notebook\\\\vue_demo_6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CartView.vue?vue&type=template&id=d883d320\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\OneDrive\\\\Notebook\\\\vue_demo_6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","id","colspan","type","onClick","$options","disabled","$data","length","_hoisted_3","_hoisted_5","_createElementBlock","_Fragment","key","_renderList","item","product","_toDisplayString","title","qty","$event","onChange","num","value","_hoisted_11","unit","_hoisted_14","price","_hoisted_15","_createVNode","_component_FormBody","onRefCart","cart","for","_component_v_form","ref","onSubmit","errors","_component_v_field","name","placeholder","rules","user","email","_component_error_message","_hoisted_7","tel","_hoisted_9","address","cols","rows","Object","keys","_hoisted_13","data","form","message","props","methods","submitOrder","order","this","$http","post","then","res","console","log","$refs","resetForm","$emit","catch","error","dir","mounted","__exports__","isLoading","isDeleting","components","FormBody","getCart","get","carts","delCart","delete","delItem","updateCart","product_id","put","render"],"sourceRoot":""}